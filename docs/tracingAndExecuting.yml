┌───────────────────────────────┐
│ Start: Receive code & command │
│ (run / step) from Backend API │
└───────────────┬───────────────┘
                │
                ▼
┌───────────────────────────────┐
│ Initialize tracing environment │
│ - Setup sys.settrace callback  │
│ - Prepare data structures to   │
│   record execution details     │
└───────────────┬───────────────┘
                │
                ▼
┌───────────────────────────────┐
│ Start executing the user code  │
│ with tracing enabled           │
│ (sys.settrace triggers on      │
│ each line / call / return)     │
└───────────────┬───────────────┘
                │
                ▼
┌───────────────────────────────┐
│ On each trace event:           │
│ - Capture current line number  │
│ - Capture current function name│
│ - Capture local and global vars│
│ - Capture call stack info      │
│ - Store this info in JSON      │
│   trace record                 │
└───────────────┬───────────────┘
                │
                ▼
┌───────────────────────────────┐
│ Check if execution is complete │
│ - If no, continue tracing      │
│ - If yes, finalize JSON trace  │
└───────────────┬───────────────┘
                │
                ▼
┌───────────────────────────────┐
│ Send trace JSON back to backend│
│ for further processing / LLM   │
└───────────────┬───────────────┘
                │
                ▼
┌───────────────────────────────┐
│ Stop tracing and clean up     │
│ resources                    │
└───────────────────────────────┘

{
  "line": <line_number>,
  "function": "<function_name>",
  "locals": { ... },
  "globals": { ... },
  "call_stack": [ ... ]
}

1. first user give code
2. python.py - on trace router take input code and run_with_trace function invoked and tracer.py is execute
3.  tracer.py - here, code is traced line by line and convert code into json formats

code :
1) 
# # 1. Initialization
# data_points = [10, 35, 60, 45, 90, 20]
# total_sum = 0
# print("Initial Array:", data_points)

# # --- FOR Loop Traversal (Line 5) ---
# print("\n--- Starting FOR Loop (Calculating Sum) ---")
# for num in data_points:
#     # Assignment event inside the loop body
#     total_sum = total_sum + num
    
# print("Total Sum:", total_sum)

# # --- WHILE Loop Traversal (Line 13) ---
# print("\n--- Starting WHILE Loop (Finding Value > 50) ---")
# i = 0
# found_index = -1

# # Condition check at loop header (Line 16)
# while i < len(data_points):
#     current_val = data_points[i]
    
#     # Conditional logic trigger
#     if current_val > 50:
#         found_index = i
#         break # Exits the loop

#     i = i + 1

# if found_index != -1:
#     print("Found value > 50 at index:", found_index)
# else:
#     print("No element > 50 found.")

# # --- Array Modification (Line 31) ---
# # Triggers assign_at_index in ArrayOperationVisualizer
# data_points[1] = 99 
# print("\nArray after final modification:", data_points)

